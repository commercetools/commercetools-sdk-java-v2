
dependencies {
    api project(':rmf:rmf-java-base')
    api project(':commercetools:commercetools-money')
    api jackson_core.annotations
    api jackson_core.databind
    implementation google.findbugs
    implementation javax.validation
    api slf4j.api
    api commons.lang3

    testImplementation project(':commercetools:commercetools-http-client')
    testImplementation project(':commercetools:commercetools-apachehttp-client')
    testImplementation commons.io version commons.io_version

    testImplementation google.gson
}

sourceSets.main.java.srcDirs += "src/main/java-generated"
sourceSets.main.java.srcDirs += "src/main/java-predicates-generated"
sourceSets.test.java.srcDirs += "src/test/java-generated"

task runMainMethodThreadLeakTest(type: JavaExec) {
    group = "Execution"
    description = "Run the main method thread leak test class"
    classpath = sourceSets.test.runtimeClasspath
    mainClass = "com.commercetools.MainMethodThreadLeakTest"
    timeout = Duration.ofSeconds(20)
}


apply plugin: com.commercetools.sdk.plugins.MigrationInfoPlugin

migration {
    outputFolder = "../internal-docs/src/main/java/com/commercetools/docs/meta"
    v1BaseFolder = [
            '/Users/jensschulze/workspace/commercetools-jvm-sdk/commercetools-models/src/main',
            '/Users/jensschulze/workspace/commercetools-jvm-sdk/commercetools-models/target/generated-sources/annotations'
    ]
    v2BaseFolder = [
            '/Users/jensschulze/workspace/commercetools-java-sdks/commercetools/commercetools-sdk-java-api/src/main/java',
            '/Users/jensschulze/workspace/commercetools-java-sdks/commercetools/commercetools-sdk-java-api/src/main/java-generated'
    ]
}
