<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (16) -->
<title>Source code</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="source: package: com.commercetools.api.client, class: ByProjectKeyAsAssociateByAssociateIdInBusinessUnitKeyByBusinessUnitKeyCartsReplicatePostString">
<meta name="generator" content="javadoc/SourceToHTMLConverter">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
</head>
<body class="source-page">
<main role="main">
<div class="source-container">
<pre><span class="source-line-no">001</span><span id="line.1"></span>
<span class="source-line-no">002</span><span id="line.2">package com.commercetools.api.client;</span>
<span class="source-line-no">003</span><span id="line.3"></span>
<span class="source-line-no">004</span><span id="line.4">import java.net.URI;</span>
<span class="source-line-no">005</span><span id="line.5">import java.nio.charset.StandardCharsets;</span>
<span class="source-line-no">006</span><span id="line.6">import java.time.Duration;</span>
<span class="source-line-no">007</span><span id="line.7">import java.util.ArrayList;</span>
<span class="source-line-no">008</span><span id="line.8">import java.util.List;</span>
<span class="source-line-no">009</span><span id="line.9">import java.util.concurrent.CompletableFuture;</span>
<span class="source-line-no">010</span><span id="line.10"></span>
<span class="source-line-no">011</span><span id="line.11">import io.vrap.rmf.base.client.*;</span>
<span class="source-line-no">012</span><span id="line.12">import io.vrap.rmf.base.client.utils.Generated;</span>
<span class="source-line-no">013</span><span id="line.13"></span>
<span class="source-line-no">014</span><span id="line.14">import org.apache.commons.lang3.builder.EqualsBuilder;</span>
<span class="source-line-no">015</span><span id="line.15">import org.apache.commons.lang3.builder.HashCodeBuilder;</span>
<span class="source-line-no">016</span><span id="line.16"></span>
<span class="source-line-no">017</span><span id="line.17">/**</span>
<span class="source-line-no">018</span><span id="line.18"> *  &lt;p&gt;Creates a new Cart by replicating an existing Cart or Order. Can be useful in cases where a customer wants to cancel a recent order to make some changes or reorder a previous order.&lt;/p&gt;</span>
<span class="source-line-no">019</span><span id="line.19"> *  &lt;p&gt;The replicated Cart preserves Customer information, Line Items and Custom Line Items, Custom Fields, Discount Codes, and other settings of the Cart or Order. If the Line Items become invalid, for example, due to removed Products or Prices, they are removed from the new Cart. If the Customer switches to another Customer Group, the new Cart is updated with the new value. It has up-to-date Tax Rates, Prices, and Line Item product data and is in &lt;code&gt;Active&lt;/code&gt; CartState.&lt;/p&gt;</span>
<span class="source-line-no">020</span><span id="line.20"> *  &lt;p&gt;The new Cart does not contain Payments or Deliveries. The State of Line Items and Custom Line Items is reset to &lt;code&gt;initial&lt;/code&gt;.&lt;/p&gt;</span>
<span class="source-line-no">021</span><span id="line.21"> *  &lt;p&gt;If the Cart exists in the Project but does not reference the requested BusinessUnit, this method returns an InvalidOperation error.&lt;/p&gt;</span>
<span class="source-line-no">022</span><span id="line.22"> *</span>
<span class="source-line-no">023</span><span id="line.23"> * &lt;hr&gt;</span>
<span class="source-line-no">024</span><span id="line.24"> * &lt;div class=code-example&gt;</span>
<span class="source-line-no">025</span><span id="line.25"> * &lt;pre&gt;&lt;code class='java'&gt;{@code</span>
<span class="source-line-no">026</span><span id="line.26"> *   CompletableFuture&lt;ApiHttpResponse&lt;com.commercetools.api.models.cart.Cart&gt;&gt; result = apiRoot</span>
<span class="source-line-no">027</span><span id="line.27"> *            .withProjectKey("{projectKey}")</span>
<span class="source-line-no">028</span><span id="line.28"> *            .asAssociate()</span>
<span class="source-line-no">029</span><span id="line.29"> *            .withAssociateIdValue("{associateId}")</span>
<span class="source-line-no">030</span><span id="line.30"> *            .inBusinessUnitKeyWithBusinessUnitKeyValue("{businessUnitKey}")</span>
<span class="source-line-no">031</span><span id="line.31"> *            .carts()</span>
<span class="source-line-no">032</span><span id="line.32"> *            .replicate()</span>
<span class="source-line-no">033</span><span id="line.33"> *            .post("")</span>
<span class="source-line-no">034</span><span id="line.34"> *            .execute()</span>
<span class="source-line-no">035</span><span id="line.35"> * }&lt;/code&gt;&lt;/pre&gt;</span>
<span class="source-line-no">036</span><span id="line.36"> * &lt;/div&gt;</span>
<span class="source-line-no">037</span><span id="line.37"> */</span>
<span class="source-line-no">038</span><span id="line.38">@Generated(value = "io.vrap.rmf.codegen.rendering.CoreCodeGenerator", comments = "https://github.com/commercetools/rmf-codegen")</span>
<span class="source-line-no">039</span><span id="line.39">public class ByProjectKeyAsAssociateByAssociateIdInBusinessUnitKeyByBusinessUnitKeyCartsReplicatePostString extends</span>
<span class="source-line-no">040</span><span id="line.40">        StringBodyApiMethod&lt;ByProjectKeyAsAssociateByAssociateIdInBusinessUnitKeyByBusinessUnitKeyCartsReplicatePostString, com.commercetools.api.models.cart.Cart&gt;</span>
<span class="source-line-no">041</span><span id="line.41">        implements</span>
<span class="source-line-no">042</span><span id="line.42">        com.commercetools.api.client.ErrorableTrait&lt;ByProjectKeyAsAssociateByAssociateIdInBusinessUnitKeyByBusinessUnitKeyCartsReplicatePostString&gt; {</span>
<span class="source-line-no">043</span><span id="line.43"></span>
<span class="source-line-no">044</span><span id="line.44">    private String projectKey;</span>
<span class="source-line-no">045</span><span id="line.45">    private String associateId;</span>
<span class="source-line-no">046</span><span id="line.46">    private String businessUnitKey;</span>
<span class="source-line-no">047</span><span id="line.47"></span>
<span class="source-line-no">048</span><span id="line.48">    private String replicaCartDraft;</span>
<span class="source-line-no">049</span><span id="line.49"></span>
<span class="source-line-no">050</span><span id="line.50">    public ByProjectKeyAsAssociateByAssociateIdInBusinessUnitKeyByBusinessUnitKeyCartsReplicatePostString(</span>
<span class="source-line-no">051</span><span id="line.51">            final ApiHttpClient apiHttpClient, String projectKey, String associateId, String businessUnitKey,</span>
<span class="source-line-no">052</span><span id="line.52">            String replicaCartDraft) {</span>
<span class="source-line-no">053</span><span id="line.53">        super(apiHttpClient);</span>
<span class="source-line-no">054</span><span id="line.54">        this.projectKey = projectKey;</span>
<span class="source-line-no">055</span><span id="line.55">        this.associateId = associateId;</span>
<span class="source-line-no">056</span><span id="line.56">        this.businessUnitKey = businessUnitKey;</span>
<span class="source-line-no">057</span><span id="line.57">        this.replicaCartDraft = replicaCartDraft;</span>
<span class="source-line-no">058</span><span id="line.58">    }</span>
<span class="source-line-no">059</span><span id="line.59"></span>
<span class="source-line-no">060</span><span id="line.60">    public ByProjectKeyAsAssociateByAssociateIdInBusinessUnitKeyByBusinessUnitKeyCartsReplicatePostString(</span>
<span class="source-line-no">061</span><span id="line.61">            ByProjectKeyAsAssociateByAssociateIdInBusinessUnitKeyByBusinessUnitKeyCartsReplicatePostString t) {</span>
<span class="source-line-no">062</span><span id="line.62">        super(t);</span>
<span class="source-line-no">063</span><span id="line.63">        this.projectKey = t.projectKey;</span>
<span class="source-line-no">064</span><span id="line.64">        this.associateId = t.associateId;</span>
<span class="source-line-no">065</span><span id="line.65">        this.businessUnitKey = t.businessUnitKey;</span>
<span class="source-line-no">066</span><span id="line.66">        this.replicaCartDraft = t.replicaCartDraft;</span>
<span class="source-line-no">067</span><span id="line.67">    }</span>
<span class="source-line-no">068</span><span id="line.68"></span>
<span class="source-line-no">069</span><span id="line.69">    @Override</span>
<span class="source-line-no">070</span><span id="line.70">    protected ApiHttpRequest buildHttpRequest() {</span>
<span class="source-line-no">071</span><span id="line.71">        List&lt;String&gt; params = new ArrayList&lt;&gt;(getQueryParamUriStrings());</span>
<span class="source-line-no">072</span><span id="line.72">        String httpRequestPath = String.format("%s/as-associate/%s/in-business-unit/key=%s/carts/replicate",</span>
<span class="source-line-no">073</span><span id="line.73">            this.projectKey, this.associateId, this.businessUnitKey);</span>
<span class="source-line-no">074</span><span id="line.74">        if (!params.isEmpty()) {</span>
<span class="source-line-no">075</span><span id="line.75">            httpRequestPath += "?" + String.join("&amp;", params);</span>
<span class="source-line-no">076</span><span id="line.76">        }</span>
<span class="source-line-no">077</span><span id="line.77">        return new ApiHttpRequest(ApiHttpMethod.POST, URI.create(httpRequestPath), getHeaders(),</span>
<span class="source-line-no">078</span><span id="line.78">            replicaCartDraft.getBytes(StandardCharsets.UTF_8));</span>
<span class="source-line-no">079</span><span id="line.79"></span>
<span class="source-line-no">080</span><span id="line.80">    }</span>
<span class="source-line-no">081</span><span id="line.81"></span>
<span class="source-line-no">082</span><span id="line.82">    @Override</span>
<span class="source-line-no">083</span><span id="line.83">    public ApiHttpResponse&lt;com.commercetools.api.models.cart.Cart&gt; executeBlocking(final ApiHttpClient client,</span>
<span class="source-line-no">084</span><span id="line.84">            final Duration timeout) {</span>
<span class="source-line-no">085</span><span id="line.85">        return executeBlocking(client, timeout, com.commercetools.api.models.cart.Cart.class);</span>
<span class="source-line-no">086</span><span id="line.86">    }</span>
<span class="source-line-no">087</span><span id="line.87"></span>
<span class="source-line-no">088</span><span id="line.88">    @Override</span>
<span class="source-line-no">089</span><span id="line.89">    public CompletableFuture&lt;ApiHttpResponse&lt;com.commercetools.api.models.cart.Cart&gt;&gt; execute(</span>
<span class="source-line-no">090</span><span id="line.90">            final ApiHttpClient client) {</span>
<span class="source-line-no">091</span><span id="line.91">        return execute(client, com.commercetools.api.models.cart.Cart.class);</span>
<span class="source-line-no">092</span><span id="line.92">    }</span>
<span class="source-line-no">093</span><span id="line.93"></span>
<span class="source-line-no">094</span><span id="line.94">    public String getProjectKey() {</span>
<span class="source-line-no">095</span><span id="line.95">        return this.projectKey;</span>
<span class="source-line-no">096</span><span id="line.96">    }</span>
<span class="source-line-no">097</span><span id="line.97"></span>
<span class="source-line-no">098</span><span id="line.98">    public String getAssociateId() {</span>
<span class="source-line-no">099</span><span id="line.99">        return this.associateId;</span>
<span class="source-line-no">100</span><span id="line.100">    }</span>
<span class="source-line-no">101</span><span id="line.101"></span>
<span class="source-line-no">102</span><span id="line.102">    public String getBusinessUnitKey() {</span>
<span class="source-line-no">103</span><span id="line.103">        return this.businessUnitKey;</span>
<span class="source-line-no">104</span><span id="line.104">    }</span>
<span class="source-line-no">105</span><span id="line.105"></span>
<span class="source-line-no">106</span><span id="line.106">    public void setProjectKey(final String projectKey) {</span>
<span class="source-line-no">107</span><span id="line.107">        this.projectKey = projectKey;</span>
<span class="source-line-no">108</span><span id="line.108">    }</span>
<span class="source-line-no">109</span><span id="line.109"></span>
<span class="source-line-no">110</span><span id="line.110">    public void setAssociateId(final String associateId) {</span>
<span class="source-line-no">111</span><span id="line.111">        this.associateId = associateId;</span>
<span class="source-line-no">112</span><span id="line.112">    }</span>
<span class="source-line-no">113</span><span id="line.113"></span>
<span class="source-line-no">114</span><span id="line.114">    public void setBusinessUnitKey(final String businessUnitKey) {</span>
<span class="source-line-no">115</span><span id="line.115">        this.businessUnitKey = businessUnitKey;</span>
<span class="source-line-no">116</span><span id="line.116">    }</span>
<span class="source-line-no">117</span><span id="line.117"></span>
<span class="source-line-no">118</span><span id="line.118">    public String getBody() {</span>
<span class="source-line-no">119</span><span id="line.119">        return replicaCartDraft;</span>
<span class="source-line-no">120</span><span id="line.120">    }</span>
<span class="source-line-no">121</span><span id="line.121"></span>
<span class="source-line-no">122</span><span id="line.122">    public ByProjectKeyAsAssociateByAssociateIdInBusinessUnitKeyByBusinessUnitKeyCartsReplicatePostString withBody(</span>
<span class="source-line-no">123</span><span id="line.123">            String replicaCartDraft) {</span>
<span class="source-line-no">124</span><span id="line.124">        ByProjectKeyAsAssociateByAssociateIdInBusinessUnitKeyByBusinessUnitKeyCartsReplicatePostString t = copy();</span>
<span class="source-line-no">125</span><span id="line.125">        t.replicaCartDraft = replicaCartDraft;</span>
<span class="source-line-no">126</span><span id="line.126">        return t;</span>
<span class="source-line-no">127</span><span id="line.127">    }</span>
<span class="source-line-no">128</span><span id="line.128"></span>
<span class="source-line-no">129</span><span id="line.129">    @Override</span>
<span class="source-line-no">130</span><span id="line.130">    public boolean equals(Object o) {</span>
<span class="source-line-no">131</span><span id="line.131">        if (this == o)</span>
<span class="source-line-no">132</span><span id="line.132">            return true;</span>
<span class="source-line-no">133</span><span id="line.133"></span>
<span class="source-line-no">134</span><span id="line.134">        if (o == null || getClass() != o.getClass())</span>
<span class="source-line-no">135</span><span id="line.135">            return false;</span>
<span class="source-line-no">136</span><span id="line.136"></span>
<span class="source-line-no">137</span><span id="line.137">        ByProjectKeyAsAssociateByAssociateIdInBusinessUnitKeyByBusinessUnitKeyCartsReplicatePostString that = (ByProjectKeyAsAssociateByAssociateIdInBusinessUnitKeyByBusinessUnitKeyCartsReplicatePostString) o;</span>
<span class="source-line-no">138</span><span id="line.138"></span>
<span class="source-line-no">139</span><span id="line.139">        return new EqualsBuilder().append(projectKey, that.projectKey)</span>
<span class="source-line-no">140</span><span id="line.140">                .append(associateId, that.associateId)</span>
<span class="source-line-no">141</span><span id="line.141">                .append(businessUnitKey, that.businessUnitKey)</span>
<span class="source-line-no">142</span><span id="line.142">                .append(replicaCartDraft, that.replicaCartDraft)</span>
<span class="source-line-no">143</span><span id="line.143">                .isEquals();</span>
<span class="source-line-no">144</span><span id="line.144">    }</span>
<span class="source-line-no">145</span><span id="line.145"></span>
<span class="source-line-no">146</span><span id="line.146">    @Override</span>
<span class="source-line-no">147</span><span id="line.147">    public int hashCode() {</span>
<span class="source-line-no">148</span><span id="line.148">        return new HashCodeBuilder(17, 37).append(projectKey)</span>
<span class="source-line-no">149</span><span id="line.149">                .append(associateId)</span>
<span class="source-line-no">150</span><span id="line.150">                .append(businessUnitKey)</span>
<span class="source-line-no">151</span><span id="line.151">                .append(replicaCartDraft)</span>
<span class="source-line-no">152</span><span id="line.152">                .toHashCode();</span>
<span class="source-line-no">153</span><span id="line.153">    }</span>
<span class="source-line-no">154</span><span id="line.154"></span>
<span class="source-line-no">155</span><span id="line.155">    @Override</span>
<span class="source-line-no">156</span><span id="line.156">    protected ByProjectKeyAsAssociateByAssociateIdInBusinessUnitKeyByBusinessUnitKeyCartsReplicatePostString copy() {</span>
<span class="source-line-no">157</span><span id="line.157">        return new ByProjectKeyAsAssociateByAssociateIdInBusinessUnitKeyByBusinessUnitKeyCartsReplicatePostString(this);</span>
<span class="source-line-no">158</span><span id="line.158">    }</span>
<span class="source-line-no">159</span><span id="line.159">}</span>




























































</pre>
</div>
</main>
</body>
</html>
